<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Intercept Raycast | Raycast Unblock</title>
    <meta name="description" content="Unblock all features in Raycast Pro Plan with implementing similar functions in other ways.">
    <meta name="generator" content="VitePress v1.1.4">
    <link rel="preload stylesheet" href="/raycast-unblock/assets/style.mSNDvY1B.css" as="style">
    <script type="module" src="/raycast-unblock/assets/chunks/metadata.966e8e1e.js"></script>
    <script type="module" src="/raycast-unblock/assets/app.BafsHn7D.js"></script>
    <link rel="preload" href="/raycast-unblock/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/raycast-unblock/assets/chunks/framework.BBWgT5cc.js">
    <link rel="modulepreload" href="/raycast-unblock/assets/chunks/theme.XlTer6iy.js">
    <link rel="modulepreload" href="/raycast-unblock/assets/guide_intercept-raycast.md.Brb7_swS.lean.js">
    <script src="https://openpanel.dev/op.js" defer async></script>
    <script>window.op=window.op||function(...e){(window.op.q=window.op.q||[]).push(e)},window.op("ctor",{clientId:"e6fa1828-537a-4ade-bd7e-e78ef1ff4373",trackScreenViews:!0,trackOutgoingLinks:!0,trackAttributes:!0});</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9d056aa3><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae25aaa9></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae25aaa9> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9d056aa3 data-v-6d4544a2><div class="VPNavBar has-sidebar top" data-v-6d4544a2 data-v-3d2aeb1d><div class="wrapper" data-v-3d2aeb1d><div class="container" data-v-3d2aeb1d><div class="title" data-v-3d2aeb1d><div class="VPNavBarTitle has-sidebar" data-v-3d2aeb1d data-v-4f603140><a class="title" href="/raycast-unblock/" data-v-4f603140><!--[--><!--]--><!--[--><img class="VPImage logo" src="/raycast-unblock/icon.png" width="24" height="24" alt data-v-fce3b68b><!--]--><span data-v-4f603140>Raycast Unblock</span><!--[--><!--]--></a></div></div><div class="content" data-v-3d2aeb1d><div class="content-body" data-v-3d2aeb1d><!--[--><!--]--><div class="VPNavBarSearch search" data-v-3d2aeb1d><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-3d2aeb1d data-v-4ca5dadf><span id="main-nav-aria-label" class="visually-hidden" data-v-4ca5dadf>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/raycast-unblock/" tabindex="0" data-v-4ca5dadf data-v-69e6bc4a><!--[--><span data-v-69e6bc4a>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/raycast-unblock/guide/what-is-raycast-unblock.html" tabindex="0" data-v-4ca5dadf data-v-69e6bc4a><!--[--><span data-v-69e6bc4a>Guide</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4ca5dadf data-v-64c0ddaf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-64c0ddaf><span class="text" data-v-64c0ddaf><!----><span data-v-64c0ddaf>Features</span><span class="vpi-chevron-down text-icon" data-v-64c0ddaf></span></span></button><div class="menu" data-v-64c0ddaf><div class="VPMenu" data-v-64c0ddaf data-v-9c128eee><div class="items" data-v-9c128eee><!--[--><!--[--><div class="VPMenuLink" data-v-9c128eee data-v-4a8c26a0><a class="VPLink link" href="/raycast-unblock/features/ai/" data-v-4a8c26a0><!--[-->AI<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9c128eee data-v-4a8c26a0><a class="VPLink link" href="/raycast-unblock/features/translator/google-translate.html" data-v-4a8c26a0><!--[-->Translator<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-9c128eee data-v-4a8c26a0><a class="VPLink link" href="/raycast-unblock/features/sync/icloud-drive.html" data-v-4a8c26a0><!--[-->Cloud Sync<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/raycast-unblock/features/" tabindex="0" data-v-4ca5dadf data-v-69e6bc4a><!--[--><span data-v-69e6bc4a>Config</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4ca5dadf data-v-64c0ddaf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-64c0ddaf><span class="text" data-v-64c0ddaf><!----><span data-v-64c0ddaf>About</span><span class="vpi-chevron-down text-icon" data-v-64c0ddaf></span></span></button><div class="menu" data-v-64c0ddaf><div class="VPMenu" data-v-64c0ddaf data-v-9c128eee><div class="items" data-v-9c128eee><!--[--><!--[--><div class="VPMenuLink" data-v-9c128eee data-v-4a8c26a0><a class="VPLink link" href="/raycast-unblock/about/qna.html" data-v-4a8c26a0><!--[-->Q&amp;A<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-3d2aeb1d data-v-217fc470><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-217fc470 data-v-9e2f2bdb data-v-e9ded1f0><span class="check" data-v-e9ded1f0><span class="icon" data-v-e9ded1f0><!--[--><span class="vpi-sun sun" data-v-9e2f2bdb></span><span class="vpi-moon moon" data-v-9e2f2bdb></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-3d2aeb1d data-v-3e129056 data-v-5885232d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wibus-wee/raycast-unblock" aria-label="github" target="_blank" rel="noopener" data-v-5885232d data-v-8cdbaa5d><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-3d2aeb1d data-v-ff86a691 data-v-64c0ddaf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-64c0ddaf><span class="vpi-more-horizontal icon" data-v-64c0ddaf></span></button><div class="menu" data-v-64c0ddaf><div class="VPMenu" data-v-64c0ddaf data-v-9c128eee><!----><!--[--><!--[--><!----><div class="group" data-v-ff86a691><div class="item appearance" data-v-ff86a691><p class="label" data-v-ff86a691>Appearance</p><div class="appearance-action" data-v-ff86a691><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-ff86a691 data-v-9e2f2bdb data-v-e9ded1f0><span class="check" data-v-e9ded1f0><span class="icon" data-v-e9ded1f0><!--[--><span class="vpi-sun sun" data-v-9e2f2bdb></span><span class="vpi-moon moon" data-v-9e2f2bdb></span><!--]--></span></span></button></div></div></div><div class="group" data-v-ff86a691><div class="item social-links" data-v-ff86a691><div class="VPSocialLinks social-links-list" data-v-ff86a691 data-v-5885232d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wibus-wee/raycast-unblock" aria-label="github" target="_blank" rel="noopener" data-v-5885232d data-v-8cdbaa5d><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-3d2aeb1d data-v-0f3b47f7><span class="container" data-v-0f3b47f7><span class="top" data-v-0f3b47f7></span><span class="middle" data-v-0f3b47f7></span><span class="bottom" data-v-0f3b47f7></span></span></button></div></div></div></div><div class="divider" data-v-3d2aeb1d><div class="divider-line" data-v-3d2aeb1d></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-9d056aa3 data-v-1c73f51d><div class="container" data-v-1c73f51d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-1c73f51d><span class="vpi-align-left menu-icon" data-v-1c73f51d></span><span class="menu-text" data-v-1c73f51d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-1c73f51d data-v-ed31b42e><button data-v-ed31b42e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-9d056aa3 data-v-f3f9f3f5><div class="curtain" data-v-f3f9f3f5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-f3f9f3f5><span class="visually-hidden" id="sidebar-aria-label" data-v-f3f9f3f5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-f3f9f3f5><section class="VPSidebarItem level-0 has-active" data-v-f3f9f3f5 data-v-d1abb2d3><div class="item" role="button" tabindex="0" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><h2 class="text" data-v-d1abb2d3>Guide</h2><!----></div><div class="items" data-v-d1abb2d3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/guide/what-is-raycast-unblock.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>What is Raycast Unblock?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/guide/getting-started.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/guide/intercept-raycast.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Intercept Raycast</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f3f9f3f5><section class="VPSidebarItem level-0" data-v-f3f9f3f5 data-v-d1abb2d3><div class="item" role="button" tabindex="0" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><h2 class="text" data-v-d1abb2d3>General</h2><!----></div><div class="items" data-v-d1abb2d3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>General Config</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f3f9f3f5><section class="VPSidebarItem level-0" data-v-f3f9f3f5 data-v-d1abb2d3><div class="item" role="button" tabindex="0" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><h2 class="text" data-v-d1abb2d3>Feature - AI</h2><!----></div><div class="items" data-v-d1abb2d3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/ai/" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>General</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/ai/openai.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>OpenAI</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/ai/azure-openai.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Azure OpenAI</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/ai/function-call.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Function Call</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/ai/gemini.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Gemini</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/ai/groq-web.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Groq Web</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/ai/cohere.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Cohere</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/ai/cohere-web.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Cohere Web</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f3f9f3f5><section class="VPSidebarItem level-0" data-v-f3f9f3f5 data-v-d1abb2d3><div class="item" role="button" tabindex="0" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><h2 class="text" data-v-d1abb2d3>Feature - Translator</h2><!----></div><div class="items" data-v-d1abb2d3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/translator/google-translate.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Google Translate</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/translator/deeplx.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>DeepL Translate</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/translator/shortcut-translator.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Shortcut Translator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/translator/libre-translate.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>LibreTranslate</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/translator/ai-translator.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>AI Translator</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-f3f9f3f5><section class="VPSidebarItem level-0" data-v-f3f9f3f5 data-v-d1abb2d3><div class="item" role="button" tabindex="0" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><h2 class="text" data-v-d1abb2d3>Feature - Cloud Sync</h2><!----></div><div class="items" data-v-d1abb2d3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/sync/icloud-drive.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>iCloud Drive</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d1abb2d3 data-v-d1abb2d3><div class="item" data-v-d1abb2d3><div class="indicator" data-v-d1abb2d3></div><a class="VPLink link link" href="/raycast-unblock/features/sync/local-sync.html" data-v-d1abb2d3><!--[--><p class="text" data-v-d1abb2d3>Local Sync</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-9d056aa3 data-v-65dae0e8><div class="VPDoc has-sidebar has-aside" data-v-65dae0e8 data-v-68e6602e><!--[--><!--]--><div class="container" data-v-68e6602e><div class="aside" data-v-68e6602e><div class="aside-curtain" data-v-68e6602e></div><div class="aside-container" data-v-68e6602e><div class="aside-content" data-v-68e6602e><div class="VPDocAside" data-v-68e6602e data-v-2956dd05><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" role="navigation" data-v-2956dd05 data-v-4e9a789a><div class="content" data-v-4e9a789a><div class="outline-marker" data-v-4e9a789a></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-4e9a789a>On this page</div><ul class="VPDocOutlineItem root" data-v-4e9a789a data-v-b529a22f><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-2956dd05></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-68e6602e><div class="content-container" data-v-68e6602e><!--[--><!--]--><main class="main" data-v-68e6602e><div style="position:relative;" class="vp-doc _raycast-unblock_guide_intercept-raycast" data-v-68e6602e><div><h1 id="intercept-raycast" tabindex="-1">Intercept Raycast <a class="header-anchor" href="#intercept-raycast" aria-label="Permalink to &quot;Intercept Raycast&quot;">​</a></h1><p>We need to intercept Raycast requests and route them through Raycast Unblock to unlock Pro features.</p><h2 id="universal-solution" tabindex="-1">Universal Solution <a class="header-anchor" href="#universal-solution" aria-label="Permalink to &quot;Universal Solution&quot;">​</a></h2><p>You can use Rewrite Header to rewrite Raycast&#39;s request to Raycast Unblock. This is a universal solution. Rewrite Header is a function that most proxy software have. However, it&#39;s important to note that:</p><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>Raycast Unblock&#39;s request <strong><em>cannot be processed</em></strong> by Rewrite Header, or it will cause an infinite loop.</p></div><p>For example, in Surge, you can add content like the following to your configuration file:</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[URL Rewrite]</span></span>
<span class="line"><span>https:\/\/backend.raycast.com http://192.168.x.x:3000 header</span></span></code></pre></div><h2 id="use-it-with-mitmproxy" tabindex="-1">Use it with mitmproxy <a class="header-anchor" href="#use-it-with-mitmproxy" aria-label="Permalink to &quot;Use it with mitmproxy&quot;">​</a></h2><p><a href="https://mitmproxy.org/" target="_blank" rel="noreferrer">mitmproxy</a> is a free and open source interactive HTTPS proxy. We can use it to intercept Raycast&#39;s requests and route them through Raycast Unblock to unlock Pro features.</p><ol><li>Install mitmproxy and the mitmproxy CA certificate.</li><li>Write Python code to intercept:</li></ol><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># mitm.py</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mitmproxy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(flow: http.HTTPFlow) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> flow.request.headers.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;x-raycast-unblock&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;true&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;backend.raycast.com&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> flow.request.pretty_url:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;request: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flow.request.pretty_url</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    new_url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> flow.request.pretty_url.replace(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://backend.raycast.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://127.0.0.1:3000&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    flow.request.url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> new_url</span></span></code></pre></div><ol start="3"><li>Run mitmproxy: <code>mitmproxy -s mitm.py</code>.</li><li>Open Raycast and use the features in the Pro Plan.</li></ol><h2 id="use-it-with-surge-scripts-not-recommend" tabindex="-1">Use it with Surge Scripts (Not recommend) <a class="header-anchor" href="#use-it-with-surge-scripts-not-recommend" aria-label="Permalink to &quot;Use it with Surge Scripts (Not recommend)&quot;">​</a></h2><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>In some cases, if you find that Raycast Unblock is not working properly, please go to the settings of Surge, and uncheck the last line <code>*</code> in <code>Surge -&gt; HTTP -&gt; Capture(捕获) -&gt; Capture MITM Overrides(捕获 MITM 覆写)</code>, which is <code>Modify MITM Hostname</code>.</p></div><ol><li>Go to <a href="https://github.com/wibus-wee/activation-script" target="_blank" rel="noreferrer">wibus-wee/activation-script</a> and follow the installation instructions.</li><li>Run Raycast Unblock and Surge.</li><li>Open Raycast and use the features in the Pro Plan.</li></ol><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>Currently, <code>activation-script</code> will not forward the requests of <code>Translate</code> and <code>me</code> to Raycast Unblock by default. Instead, it will immediately forward the requests to DeepL or handle them itself in the script. You need to modify the code manually. Please refer to the documentation of activation-script for details.</p></div><h2 id="if-you-don-t-have-surge" tabindex="-1">If you don&#39;t have Surge <a class="header-anchor" href="#if-you-don-t-have-surge" aria-label="Permalink to &quot;If you don&#39;t have Surge&quot;">​</a></h2><p>You need to throw all Raycast requests to the backend built by this project, but make sure that the backend <strong>can request Raycast Backend normally</strong>, because some functions need to request Raycast Backend once and then do it.</p><ol><li><p>You can use Rewrite Header to implement this function - <a href="#universal-solution">Universal Solution</a>.</p></li><li><p>You can refer to the code in <a href="https://github.com/wibus-wee/activation-script" target="_blank" rel="noreferrer">wibus-wee/activation-script</a> and port it to other agent tools to continue using MiTM to hijack.</p></li><li><p>You can edit the <code>/etc/hosts</code> file to implement interception, but this method only supports Raycast Unblock deployments in remote locations. - <a href="#hosts">Hosts</a></p></li></ol><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If you are building the backend locally, please do not let your proxy tool proxy both Raycast&#39;s requests and the backend service&#39;s requests, as this will cause it to not work properly.</p><p>Or you can deploy the backend to a remote server, and this will not be a problem.</p></div><h3 id="more" tabindex="-1">More <a class="header-anchor" href="#more" aria-label="Permalink to &quot;More&quot;">​</a></h3><p>Raycast Unblock adds an <code>x-raycast-unblock</code> header to requests to Raycast Backend.</p><p>You can determine whether this is a request from Raycast or Raycast Unblock by the presence of this header, and make the backend service work properly through conditional judgment.</p><p><a href="https://github.com/wibus-wee/activation-script/blob/main/src/modules/index.ts#L70-L89" target="_blank" rel="noreferrer">Related Code in activation-script</a></p><h2 id="hosts" tabindex="-1">Hosts <a class="header-anchor" href="#hosts" aria-label="Permalink to &quot;Hosts&quot;">​</a></h2><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>This method can only be used when the backend is deployed <strong>remotely</strong>, and cannot be used when the backend is deployed locally.</p><ul><li><code>Local</code> in this context refers to running both Raycast Unblock and Raycast simultaneously on the same computer.</li></ul></div><p>For users who use remote deployment, we recommend using <code>reverse proxy</code> to make Raycast Unblock service can be accessed normally.</p><p>This method requires you to <strong>deploy SSL certificate</strong> remotely, otherwise it will be invalid.</p><p>At the same time, <code>general.host</code> needs to be configured as <code>0.0.0.0</code> in the <code>config.toml</code> file.</p><p>You can modify your hosts file to make Raycast requests go to the backend built by this project.</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&lt;Your Backend IP&gt; backend.raycast.com</span></span></code></pre></div><h3 id="generate-self-signed-certificate-to-use-with-raycast-unblock" tabindex="-1">Generate Self-signed Certificate to use with Raycast Unblock <a class="header-anchor" href="#generate-self-signed-certificate-to-use-with-raycast-unblock" aria-label="Permalink to &quot;Generate Self-signed Certificate to use with Raycast Unblock&quot;">​</a></h3><p>This section is written for those who want to use Raycast Unblock by specifying hosts. This may be useful for users deploying on NAS or other local machines.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This is an advanced operation and it may require <em>some technical skills</em>. It is only suitable for production deployment in a remote server.</p></div><ol><li><p>Open your config file, set <code>enabled</code> to <code>true</code> in <code>[General.Https]</code>, fill in your host&#39;s local IP in <code>host</code>, and leave others as default. Then set <code>port</code> as <code>443</code> in <code>[General]</code>.</p></li><li><p>Then start Raycast Unblock, it will automatically setup HTTPS for the service and install the CA certificate.</p></li><li><p>Go to the CA Root certificate storage <em>(it will be shown in Raycast Unblock&#39;s log)</em>.</p></li><li><p>Export two files in it ( <code>rootCA-key.pem</code>, <code>rootCA.pem</code> ), and save these two files to <code>/Users/&lt;YOUR USERNAME&gt;/Library/Application Support/mkcert</code> (create it if not exists) in the computer that runs Raycast.</p></li><li><p>Go to <a href="https://github.com/FiloSottile/mkcert/releases/tag/v1.4.4" target="_blank" rel="noreferrer">FiloSottile/mkcert Release</a>, download and use the executable file that matches your Raycast computer&#39;s architecture, and rename it to <code>mkcert</code>.</p></li><li><p>Then run the following command after replacing the placeholders in the command:</p></li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./mkcert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -install</span></span></code></pre></div><p>When it shows <code>The local CA is now installed in the system trust store! ⚡️</code>, it means the installation is successful. You can use Raycast Unblock by specifying hosts now!</p></div></div></main><footer class="VPDocFooter" data-v-68e6602e data-v-af37d595><!--[--><!--]--><div class="edit-info" data-v-af37d595><div class="edit-link" data-v-af37d595><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/wibus-wee/raycast-unblock/edit/main/packages/docs/guide/intercept-raycast.md" target="_blank" rel="noreferrer" data-v-af37d595><!--[--><span class="vpi-square-pen edit-link-icon" data-v-af37d595></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-af37d595><p class="VPLastUpdated" data-v-af37d595 data-v-a528e67e>Last updated: <time datetime="2024-05-29T18:22:35.000Z" data-v-a528e67e></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-af37d595><span class="visually-hidden" id="doc-footer-aria-label" data-v-af37d595>Pager</span><div class="pager" data-v-af37d595><a class="VPLink link pager-link prev" href="/raycast-unblock/guide/getting-started.html" data-v-af37d595><!--[--><span class="desc" data-v-af37d595>Previous page</span><span class="title" data-v-af37d595>Getting Started</span><!--]--></a></div><div class="pager" data-v-af37d595><a class="VPLink link pager-link next" href="/raycast-unblock/features/" data-v-af37d595><!--[--><span class="desc" data-v-af37d595>Next page</span><span class="title" data-v-af37d595>General Config</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-9d056aa3 data-v-91fbf7e2><div class="container" data-v-91fbf7e2><p class="message" data-v-91fbf7e2>Released under MIT. Created on Feb 2, 2024</p><p class="copyright" data-v-91fbf7e2>raycast-unblock © Wibus</p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>